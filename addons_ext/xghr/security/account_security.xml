
<odoo>
    <data >
        <!-- 创建应用  -->
        <record model="ir.module.category" id="module_xghr_app">
            <field name="name">XGHR</field>
            <field name="sequence">203</field>
        </record>
            <!-- 创建群组 需要在 应用程访问中 出现 管理员模块需要 隐含 用户组-->


        <record id="group_xghr_user" model="res.groups">
            <field name="name">用户</field>
            <field name="category_id" ref="module_xghr_app"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

       <record id="group_xghr_manage" model="res.groups">
            <field name="name">管理员</field>
            <field name="category_id" ref="module_xghr_app"/>
            <field name="implied_ids" eval="[(4, ref('group_xghr_user'))]"/>
            <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
        </record>

            <!-- 数据权限  domain 表达式  model_id 对应的是 csv 中的 model_id-->
            <!--公司ID 为空 或者 公司ID 等于当前用户归属公司ID -->
        <record model="ir.rule" id="xghr_test_company">
            <field name="name">xghr_test_company multi-company</field>
            <field name="model_id" ref="model_personnel_registration"/>
            <field name="global" eval="True"/>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">['|',('company_id','=',user.company_id.id),('company_id','=',False)]</field>
        </record>
    </data>
</odoo>
